Demo Code: grasping unknown objects

Here you can download a framework for grasping unknown objects with a PR2 robot. We provide two methods of grasp calculation:

Rectangle Representation (link to paper?)
Symmetry Height Accumulated Features (D. Fischinger, Y. Jiang, M. Vincze, “Learning Grasps for Unknown Objects in Cluttered
 Scenes
” submitted to ICRA 2013)

== Requirements ==
ROS electric
PCL
OpenRAVE 0.6.4
openni_camera driver
PR2 with kinect camera mounted on top of head and tf frames included to the PR2 urdf file



== Instruction ==
Download the compressed file and save it at /opt/ros/. Adapt OpenRAVE environment file env/exp.env.xml in ROS package openrave_ctrl such that your robot is used. Rosmake all packages and assure all dependencies are found. Start your PR2 and place it in front of a table. Start the demo by executing: 'roslaunch openrave_ctrl start_demo_pr2.launch' from command line. 

= SHAF =
To calcuate grasp point using SHAF execute the following in command line (after placing objects):
>>  rostopic pub /SS/doSingleShot std_msgs/String "makeSingleShot" -1

= Rectangle Representation =
In the window 'Reconfigure' (which was opened by start_demo_pr2.launch) choose the node 'point_cloud_utils'. To start the grasp calculation process, check the check box. This saves an image and point cloud at path /tmp/. For this method you need a background with a scene without objects first:
>> cd /tmp
>> cp scene0001r.png background.png
Check the 'write_next' check box again to start grasp point detection and grasp execution


= Execution = 
From now on the system should execute the grasp with the only interaction of pressing Enter at predefined stages of grasping (e.g. if manipulator is 10 cm above object,...)

Questions & Comments: david.fischinger@tuwien.ac.at
